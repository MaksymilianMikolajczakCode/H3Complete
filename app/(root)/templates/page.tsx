import { Button } from "@/components/ui/button";
import { fetchTemplates } from "@/lib/actions/template.actions";
import Link from "next/link";

async function Templates({
}) {
  const result = await fetchTemplates();
  return (
    <div className="prose max-w-screen-2xl">
      <div className="mb-10"><h2><strong>Introduction</strong></h2><p>Every random map is generated following a certain template. The template prescribes, how many zones should map be divided into, how these zones should be interconnected, and certain details regarding zones and connections as well, while majority of objects and precise location of zones is selected randomly.</p><p>This article presents you description and layouts of default HotA templates.</p><h3><strong>Notation</strong></h3><h5><strong>General</strong></h5><p>Zones are denoted by squares with rounded corners. Square size shows the relative size of the zone with respect to other zones on the template (however, actual size of the zone depends on the variety of factors and may not correspond to the size displayed on the layout).</p><p></p><p>Zone color corresponds to a player whose starting town is located in this zone: this rule is held if only the first colors are selected by players (e.g., red and blue for two players), otherwise zone colors don’t correspond to players’ colors.</p><p></p><p>Zones not occupied by players are colored white (for content-poor zones), silver (for content-rich zones) or gold (for vastly content-rich zones).</p><p></p><p>There is a number located at the bottom right corner of the square, which is this zone’s ID.</p><p>PC icon located alongside zone number signifies that the player starting in this zone is imperatively AI-controlled.</p><p></p><h5><strong>Contents</strong></h5><p>There is a number at the top left corner, near the chest icon, which denotes the richness of this zone’s contents. The bigger is this number, the more precious objects this zone will generate (and the heavier will be the guards). This number alone specifies, if the zone will be colored white, silver or gold.</p><p>Each zone’s contents are characterized by three (or less) content types. Each of these types is described by three numbers: minimum group value, maximum group value and relative frequency of occurrence. From now on each content type will be denoted as <strong>([minimum value]–[maximum value], [frequency])</strong>.</p><p>The most frequently used content-wise zones are:</p><ul><li><p>55 — poor zone, white. Content types: (500–3000, 9), (3000–6000, 6), (10000–15000, 1).</p></li><li><p>133 — rich zone, silver. Content types: (3000–6000, 9), (10000–15000, 6), (15000–20000, 1).</p></li><li><p>242 — vastly rich zone, gold. Content types: (10000–15000, 9), (15000–20000, 6), (20000–30000, 1).</p></li></ul><p>The asterisk above the richness number signifies that this zone uses custom rules for objects generation.</p><p></p><p>Swords icon(s) at the top right corner denote the guards’ relative power. Absence of swords means that the objects in this zone are not guarded at all. Otherwise, 1, 2 or 3 swords correspond to weak, medium or strong guards respectively.</p><p></p><h5><strong>Towns and mines</strong></h5><p>There can be multiple towns in the zone. Town type (castles — with Fort; non-fortified, aka villages — without Fort) and amount is denoted by town icon(s) (castles — with windows; villages — without) and number(s) alongside them. Neutral and player-controlled towns are distinguished as well (neutral towns have grey tower tops, while player-controlled towns have tower tops of corresponding color).</p><p></p><p>The amount of every type of mines is located alongside the corresponding resource icon.</p><p></p><h4><strong>Connections</strong></h4><p>Basic connection between two zones is denoted by a single black line. The number on it is connection value, which specifies the power of units guarding it. Connection with a Border Guard is crossed by another shorter line in place of the number.</p><p></p><p>Wide connection is denoted by thick grey line. This connection is never guarded, and, if zones connected with it have a common land border, they will be connected for the majority of this border’s width.</p><p></p><p>Thin dashed line denotes fictive connection: the zones will not be actually connected, but despite this fact, the generator will try to place these zones close to each other, if possible.</p><p></p><p>If the connection has an obligatory road, thin white dashed line is added inside the connection line. Note that if several connections with obligatory roads occur between the same pair of zones, only one road will be generated.</p><p></p><p>Imperatively roadless connections are denoted by thick dashed lines.</p><p></p><h4><strong>Mirror templates</strong></h4><p>Mirror templates have their underground layer generated as an exact copy of the surface level. On the template layouts surface zones are drawn at the left and the underground ones — to the right. Each surface zone #x has its underground copy as zone #100+x.</p><p>Note that the right side of the layout is turned upside-down — if some zone is found on the top of the surface part, its copy will be at the bottom of underground part.</p><p>Connections between two mirror layers are marked red.</p><p></p><h4><strong>Conditions of existence</strong></h4><p>Some zones and/or connections on the template may have a yellow outline. It means that this zone or connection may or may not appear during generation, depending on the map settings selected before start (number of players, map size). This way several templates may be configured differently, depending on the number of players or on the map size.</p><p></p><h3><strong>Template editor</strong></h3><p>If you want more detailed view on any of the templates, you may open it using built-in template editor. To do so you need to run <strong>Rmg Template Editor.exe</strong> in the root directory of HotA, press <strong>Open</strong> and select <strong>HotA_RMGTemplates[template name]\rmg.txt</strong>.</p><p>Note that there are multiple view modes, that may be switched using buttons 1–5.</p><p>1 — standard view, described above.</p><p></p><p>2 — towns and castles view. In this mode each zone displays all towns and castles total number, maximum allowed number of towns (if more than standard amount may be generated), allowed towns and castles alignment and notification if all the towns and castles in the zone must belong to the same alignment.</p><p></p><p>3 — treasure view. In this mode each zone displays detailed view of its contents: minimum/maximum value and frequency for up to 3 types of treasures. Asterisk, as in the Standard view, signifies the custom settings or restrictions of certain objects generation.</p><p></p><p>4 — terrain/placement view. In this mode each zone displays allowed terrain types, as well as placement options, like forced underground/surface level or zone repulsion.</p><p></p><p>5 — IDs view. In this mode each zone’s ID is displayed in large scale.</p><p></p><p>Double-clicking any zone or connection allows you to edit it. General settings can be viewed in the following tabs: <strong>Template pack -&gt; Settings</strong> and <strong>Template pack -&gt; Settings</strong>.</p><h3><strong>Protection from modifications</strong></h3><p>Host player templates are used to generate map during multiplayer session. Therefore joining players must have means to ensure the template doesn’t contain any unknown modifications.</p><p>At the beginning of new map generation all players have their templates compared between each other and with the reference template on HotA server. If no message appears after the check is performed, it means that host uses the template that is either to your corresponding template or corresponding reference template. Assuming that joining player has default template, it means that the host has also used the default template for map generation, and the players are free to proceed.</p><p>Otherwise the user is shown a message describing inconsistency type and possible solutions to this issue.</p></div>
    </div>
  );
}

export default Templates;